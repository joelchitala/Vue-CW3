(function(){"use strict";var t={6397:function(t,e,r){var o=r(9242),i=r(3396),n=r(7139);const c=(0,i._)("link",{href:"https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css",rel:"stylesheet"},null,-1),s={key:0,style:{"align-self":"flex-end","margin-right":"2rem"}},a=(0,i._)("i",{class:"bx bx-cart"},null,-1),l={key:1,style:{"font-size":"1.15rem"},disabled:"disabled"},d=(0,i._)("i",{class:"bx bx-cart"},null,-1),u={key:1},h=(0,i._)("i",{class:"bx bx-left-arrow-alt"},null,-1);function m(t,e,r,o,m,p){return(0,i.wg)(),(0,i.iD)(i.HY,null,[c,(0,i._)("header",null,[(0,i._)("h1",null,(0,n.zw)(m.sitename),1),m.showProducts?((0,i.wg)(),(0,i.iD)("div",s,[p.canRemoveFromCart?((0,i.wg)(),(0,i.iD)("button",{key:0,style:{"font-size":"1.15rem"},onClick:e[0]||(e[0]=(...t)=>p.cycle&&p.cycle(...t))},[(0,i.Uk)((0,n.zw)(p.cartItemCount)+" ",1),a,(0,i.Uk)(" Checkout ")])):((0,i.wg)(),(0,i.iD)("button",l,[(0,i.Uk)((0,n.zw)(p.cartItemCount)+" ",1),d]))])):((0,i.wg)(),(0,i.iD)("div",u,[(0,i._)("button",{style:{"font-size":"1.15rem"},onClick:e[1]||(e[1]=(...t)=>p.cycle&&p.cycle(...t))},[h,(0,i.Uk)(" Go back ")])]))]),(0,i._)("main",null,[((0,i.wg)(),(0,i.j4)((0,i.LL)(m.currentView),{"cart-items":m.cart,"product-items":m.products,onAddCart:p.handleAddToCart,onRemoveCart:p.handleRemoveFromCart,onOrderSubmitted:p.handleOrderSubmitted},null,40,["cart-items","product-items","onAddCart","onRemoveCart","onOrderSubmitted"]))])],64)}r(7658);const p=t=>((0,i.dD)("data-v-dbf0860a"),t=t(),(0,i.Cn)(),t),_={style:{display:"inline-flex","align-items":"start"}},f={id:"Checkout"},v=p((()=>(0,i._)("h2",null,"Checkout Page",-1))),y={class:"input_container"},w=p((()=>(0,i._)("label",{for:"name"},"Name: ",-1))),k={class:"input_container"},g=p((()=>(0,i._)("label",{for:"phone",pattern:"[A-Za-z]"},"Phone: ",-1))),C={id:"cart_container"},b={id:"products"},x=["src"],D={class:"info_container"},I=["onClick"];function O(t,e,r,c,s,a){return(0,i.wg)(),(0,i.iD)("section",_,[(0,i._)("div",f,[v,(0,i._)("div",null,[(0,i._)("div",y,[w,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>s.user_data.name=t)},null,512),[[o.nr,s.user_data.name,void 0,{trim:!0}]])]),(0,i._)("div",k,[g,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>s.user_data.phone=t)},null,512),[[o.nr,s.user_data.phone,void 0,{trim:!0}]])]),a.canCheckout?((0,i.wg)(),(0,i.iD)("button",{key:0,onClick:e[2]||(e[2]=t=>a.checkout())},"Checkout")):(0,i.kq)("",!0)])]),(0,i._)("div",C,[(0,i._)("h2",null,"Cart("+(0,n.zw)(a.cartItemCount)+")",1),(0,i._)("div",b,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.getCartItems,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"product",key:t.id},[(0,i._)("img",{class:"image",src:t.item.image},null,8,x),(0,i._)("div",D,[(0,i._)("p",null,"Subject: "+(0,n.zw)(t.item.subject),1),(0,i._)("p",null,"Location: "+(0,n.zw)(t.item.location),1),(0,i._)("p",null,"Price: "+(0,n.zw)(t.item.price),1),(0,i._)("button",{onClick:e=>a.remove_from_cart(t)},"Remove From Cart",8,I)])])))),128))])])])}var P={name:"CartComponent",props:{cartItems:{type:Array}},emits:["remove-cart","order-submitted"],computed:{getCartItems(){return this.cartItems},cartItemCount(){return this.cartItems.length||"Empty"},canRemoveFromCart(){return this.cartItems.length>0},canCheckout(){const t=this.user_data;return t.name.match(/^[A-Za-z\s]+$/)&&t.phone.match(/^[0-9]+$/)}},methods:{remove_from_cart(t){this.$emit("remove-cart",JSON.stringify(t))},checkout(){alert("Order submited"),this.$emit("order-submitted")}},data(){return{user_data:{name:"",phone:""}}}},A=r(89);const S=(0,A.Z)(P,[["render",O],["__scopeId","data-v-dbf0860a"]]);var z=S;const j=t=>((0,i.dD)("data-v-254cfe3b"),t=t(),(0,i.Cn)(),t),V=j((()=>(0,i._)("h1",null,"Lesson Page",-1))),L={style:{display:"flex","flex-direction":"row",width:"100%"}},F={style:{width:"30%"}},T=j((()=>(0,i._)("h3",null,"Filter & Order",-1))),$={id:"filters",style:{display:"flex","flex-direction":"column","align-self":"flex-start",width:"100%"}},R=j((()=>(0,i._)("h3",{style:{margin:"0.5rem 0"}},"Filter",-1))),U={id:"sort"},E=["onClick"],H=["onClick"],Y={for:"sort"},N=j((()=>(0,i._)("h3",{style:{margin:"0.5rem 0"}},"Order",-1))),Z={id:"order"},J=["onClick"],K=["onClick"],M={for:"order"},q={style:{width:"100%"}},G={style:{width:"100%",display:"inline-flex","align-items":"center","justify-content":"flex-start"}},W={id:"search"},B=["placeholder"],Q=j((()=>(0,i._)("i",{class:"bx bx-search"},null,-1))),X=[Q],tt={id:"products"},et=["src"],rt={class:"info_container"},ot=["onClick"],it={key:1,disabled:""};function nt(t,e,r,c,s,a){return(0,i.wg)(),(0,i.iD)(i.HY,null,[V,(0,i._)("section",L,[(0,i._)("section",F,[T,(0,i._)("div",$,[R,(0,i._)("div",U,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.sort_dict,((t,e)=>((0,i.wg)(),(0,i.iD)("div",{key:t.id},[t.checked?((0,i.wg)(),(0,i.iD)("input",{key:0,type:"radio",name:"sort",value:"key",checked:"",onClick:t=>a.sort(e)},null,8,E)):((0,i.wg)(),(0,i.iD)("input",{key:1,type:"radio",name:"sort",value:"key",onClick:t=>a.sort(e)},null,8,H)),(0,i._)("label",Y,(0,n.zw)(e),1)])))),128))]),N,(0,i._)("div",Z,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.order_dict,((t,e)=>((0,i.wg)(),(0,i.iD)("div",{key:t.id},[t.checked?((0,i.wg)(),(0,i.iD)("input",{key:0,type:"radio",name:"order",value:"key",checked:"",onClick:t=>a.order(e)},null,8,J)):((0,i.wg)(),(0,i.iD)("input",{key:1,type:"radio",name:"order",value:"key",onClick:t=>a.order(e)},null,8,K)),(0,i._)("label",M,(0,n.zw)(e),1)])))),128))])])]),(0,i._)("section",q,[(0,i._)("div",G,[(0,i._)("div",W,[a.search?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,type:"text",placeholder:s.searchTerm,"onUpdate:modelValue":e[0]||(e[0]=t=>s.searchInput=t)},null,8,B)),[[o.nr,s.searchInput]]):(0,i.kq)("",!0),(0,i._)("button",{onClick:e[1]||(e[1]=(...t)=>a.search&&a.search(...t))},X)])]),(0,i._)("div",tt,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.product_copy,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"product",key:t.id},[(0,i._)("img",{class:"image",src:t.image},null,8,et),(0,i._)("div",rt,[(0,i._)("p",null,"Subject: "+(0,n.zw)(t.subject),1),(0,i._)("p",null,"Location: "+(0,n.zw)(t.location),1),(0,i._)("p",null,"Price: $"+(0,n.zw)(t.price),1),(0,i._)("p",null,"Spaces: "+(0,n.zw)(t.spaces),1),t.spaces>0?((0,i.wg)(),(0,i.iD)("button",{key:0,onClick:e=>a.add_to_cart(t)},"Add To Cart",8,ot)):((0,i.wg)(),(0,i.iD)("button",it,"Add To Cart"))])])))),128))])])])],64)}var ct={name:"LessonComponent",props:{productItems:{type:Array}},emits:["add-cart"],created(){this.loadProducts()},methods:{showCheckout(){this.showProducts=!this.showProducts},add_to_cart(t){const e=`${t.subject[0]}`+t.id+`${t.location[0]}`+Math.ceil(1e6*Math.random());let r={id:e,item:t};this.$emit("add-cart",JSON.stringify(r))},search_func(t){let e=this.sort_value.toLowerCase();"all"!=e&""!=t.trim()&&("price"!=e?this.product_copy=this.productItems.filter((r=>r[e].toLowerCase().includes(t.toLowerCase()))):null!=t.match(/^[0-9]+$/)&&(this.product_copy=this.productItems.filter((r=>(""+r[e]).includes(t)))),this.order_sort(this.sort_value)),""==t.trim()&&(this.loadProducts(),this.order_sort(this.sort_value))},order(t){this.order_value=t,this.order_sort(this.sort_value)},sort(t){this.sort_value=t,this.order_sort(t)},order_sort(t){if(t=t.toLowerCase(),"all"!=t){this.searchTerm=t;const e="Ascending"==this.order_value;this.product_copy.sort(((r,o)=>r[t]>o[t]?e?1:-1:o[t]>r[t]?e?-1:1:0))}else this.searchTerm="Please choose criteria eg. subject, location, price.",this.loadProducts()},loadProducts(){this.product_copy=[],this.productItems.forEach((t=>{this.product_copy.push(t)}))}},data(){return{sitename:"After School Activities Store",cart:[],order_value:"Ascending",order_dict:{Ascending:{id:1,checked:!0},Descending:{id:2,checked:!1}},sort_value:"All",sort_dict:{All:{id:1,checked:!0},Subject:{id:2,checked:!1},Location:{id:3,checked:!1},Price:{id:4,checked:!1}},searchInput:"",searchTerm:"Please choose criteria eg. subject, location, price.",product_copy:[],user_data:{name:"",phone:""}}},computed:{cartItemCount(){return this.cart.length||"Empty"},canRemoveFromCart(){return this.cart.length>0},search(){return this.search_func(this.searchInput),!0}}};const st=(0,A.Z)(ct,[["render",nt],["__scopeId","data-v-254cfe3b"]]);var at=st,lt={name:"App",created(){this.loadProducts()},computed:{cartItemCount(){return this.cart.length||"Empty"},canRemoveFromCart(){return this.cart.length>0}},data(){return{sitename:"After School Activities Store",currentView:at,currentViewStr:"Cart",showProducts:!0,cart:[],products:[]}},methods:{loadProducts(){const t=3e3;fetch(`http://localhost:${t}/collection/lessons`).then((t=>{t.json().then((t=>{this.products=t}))}))},handleAddToCart(t){t=JSON.parse(t);for(let e=0;e<this.products.length;e++){const r=this.products[e];t["item"]._id==r._id&&r.spaces--}this.cart.push(t)},handleRemoveFromCart(t){t=JSON.parse(t);const e=[];for(let r=0;r<this.cart.length;r++){const o=this.cart[r];t["id"]!=o["id"]&&e.push(o)}this.cart=[],e.forEach((t=>{this.cart.push(t)}));for(let r=0;r<this.products.length;r++){const e=this.products[r];t["item"]._id==e._id&&e.spaces++}},handleOrderSubmitted(){this.cart=[],this.cycle()},cycle(){this.currentView["name"]==at["name"]?(this.currentView=z,this.currentViewStr="Go Back",this.showProducts=!1):(this.currentView=at,this.currentViewStr="Cart",this.showProducts=!0)}}};const dt=(0,A.Z)(lt,[["render",m]]);var ut=dt;(0,o.ri)(ut).mount("#app")}},e={};function r(o){var i=e[o];if(void 0!==i)return i.exports;var n=e[o]={exports:{}};return t[o].call(n.exports,n,n.exports,r),n.exports}r.m=t,function(){var t=[];r.O=function(e,o,i,n){if(!o){var c=1/0;for(d=0;d<t.length;d++){o=t[d][0],i=t[d][1],n=t[d][2];for(var s=!0,a=0;a<o.length;a++)(!1&n||c>=n)&&Object.keys(r.O).every((function(t){return r.O[t](o[a])}))?o.splice(a--,1):(s=!1,n<c&&(c=n));if(s){t.splice(d--,1);var l=i();void 0!==l&&(e=l)}}return e}n=n||0;for(var d=t.length;d>0&&t[d-1][2]>n;d--)t[d]=t[d-1];t[d]=[o,i,n]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var o in e)r.o(e,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,o){var i,n,c=o[0],s=o[1],a=o[2],l=0;if(c.some((function(e){return 0!==t[e]}))){for(i in s)r.o(s,i)&&(r.m[i]=s[i]);if(a)var d=a(r)}for(e&&e(o);l<c.length;l++)n=c[l],r.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return r.O(d)},o=self["webpackChunkVue_CW3"]=self["webpackChunkVue_CW3"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=r.O(void 0,[998],(function(){return r(6397)}));o=r.O(o)})();
//# sourceMappingURL=app.35199f6c.js.map